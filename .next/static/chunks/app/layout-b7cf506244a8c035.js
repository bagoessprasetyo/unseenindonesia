(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{575:function(e,t,a){Promise.resolve().then(a.t.bind(a,3780,23)),Promise.resolve().then(a.t.bind(a,9538,23)),Promise.resolve().then(a.t.bind(a,5468,23)),Promise.resolve().then(a.t.bind(a,2778,23)),Promise.resolve().then(a.bind(a,8655))},8655:function(e,t,a){"use strict";a.d(t,{Providers:function(){return o},a:function(){return u}});var n=a(7437),i=a(2265),l=a(9376),s=a(5526);let r=(0,i.createContext)(void 0);function u(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useAuth must be used within a Providers component");return e}function o(e){let{children:t}=e,[a,u]=(0,i.useState)(null),[o,c]=(0,i.useState)(null),[d,_]=(0,i.useState)(null),[f,m]=(0,i.useState)(!0),v=(0,l.useRouter)(),h=(0,l.usePathname)(),b=(0,s.JU)();(0,i.useEffect)(()=>{(async()=>{var e;let{data:{session:t},error:a}=await b.auth.getSession();if(a){console.error("Error getting session:",a),m(!1);return}if(_(t),u(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),null==t?void 0:t.user){let{data:e}=await b.from("profiles").select("*").eq("id",t.user.id).single();c(e)}m(!1)})();let{data:{subscription:e}}=b.auth.onAuthStateChange(async(e,t)=>{var a,n,i,l,s,r,o;if(_(t),u(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),null==t?void 0:t.user){let{data:e,error:a}=await b.from("profiles").select("*").eq("id",t.user.id).single();if(a&&"PGRST116"===a.code){let{data:e}=await b.from("profiles").insert({id:t.user.id,username:(null===(n=t.user.email)||void 0===n?void 0:n.split("@")[0])||"",full_name:(null===(i=t.user.user_metadata)||void 0===i?void 0:i.full_name)||(null===(l=t.user.user_metadata)||void 0===l?void 0:l.name)||"",avatar_url:(null===(s=t.user.user_metadata)||void 0===s?void 0:s.avatar_url)||(null===(r=t.user.user_metadata)||void 0===r?void 0:r.picture)||null,location:(null===(o=t.user.user_metadata)||void 0===o?void 0:o.location)||null}).select().single();c(e)}else c(e)}else c(null);"SIGNED_IN"===e&&"/auth"===h?v.push("/"):"SIGNED_OUT"===e&&v.push("/auth")});return()=>e.unsubscribe()},[b,v,h]);let p=async()=>{await b.auth.signOut()};return(0,n.jsx)(r.Provider,{value:{user:a,profile:o,session:d,loading:f,signOut:p},children:t})}},5526:function(e,t,a){"use strict";a.d(t,{IG:function(){return o},JU:function(){return u},Ry:function(){return c},Yb:function(){return d}});var n=a(7026),i=a(5452);let l="https://gaizwlstaujuiyxofkww.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhaXp3bHN0YXVqdWl5eG9ma3d3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NzcyMjMsImV4cCI6MjA2NDE1MzIyM30.34gO2ib2nbu6ZllpAhgoPoGDty_wnb6T0MYf7-ftXFw";if(!l||!s)throw Error("Missing Supabase environment variables");let r=(0,n.eI)(l,s,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),u=()=>(0,i.createClientComponentClient)(),o=async e=>{let{data:t,error:a}=await r.auth.signInWithOAuth({provider:e,options:{redirectTo:"".concat("http://localhost:3000","/auth/callback")}});return{data:t,error:a}},c=async(e,t)=>{let{data:a,error:n}=await r.auth.signInWithPassword({email:e,password:t});return{data:a,error:n}},d=async(e,t,a)=>{let{data:n,error:i}=await r.auth.signUp({email:e,password:t,options:{data:a,emailRedirectTo:"".concat("http://localhost:3000","/auth/callback")}});return{data:n,error:i}}},2778:function(){},3780:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},9538:function(e){e.exports={style:{fontFamily:"'__Nunito_Sans_88b589'",fontStyle:"normal"},className:"__className_88b589",variable:"__variable_88b589"}},5468:function(e){e.exports={style:{fontFamily:"'__Playfair_Display_840cdc', '__Playfair_Display_Fallback_840cdc'",fontStyle:"normal"},className:"__className_840cdc",variable:"__variable_840cdc"}}},function(e){e.O(0,[408,523,971,117,744],function(){return e(e.s=575)}),_N_E=e.O()}]);