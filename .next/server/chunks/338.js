exports.id=338,exports.ids=[338],exports.modules={3021:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},874:(e,s,a)=>{Promise.resolve().then(a.bind(a,7484))},6239:(e,s,a)=>{"use strict";a.d(s,{Z:()=>y});var t=a(326),r=a(7577),n=a(434),i=a(5047),l=a(4935),o=a(6021),c=a(6343),d=a(7636),m=a(8307),u=a(6507),h=a(9635),x=a(8378),g=a(1810),p=a(4019),b=a(748),f=a(3855),j=a(7484);function y({children:e}){let[s,a]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),{user:N,profile:w,signOut:I}=(0,j.a)(),k=(0,i.useRouter)(),Z=(0,i.usePathname)(),P=[{name:"Peta",href:"/",icon:l.Z,current:"/"===Z},{name:"Jelajahi",href:"/explore",icon:o.Z,current:"/explore"===Z},{name:"Cerita",href:"/stories",icon:c.Z,current:"/stories"===Z}],C=async()=>{await I(),v(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:[t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex h-16 justify-between items-center",children:[t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)(n.default,{href:"/",className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-indonesia-red rounded-lg flex items-center justify-center",children:t.jsx(d.Z,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-xl font-accent font-bold text-gray-900 hidden sm:block",children:"UnseenIndonesia"})]})}),t.jsx("nav",{className:"hidden md:flex space-x-8",children:P.map(e=>(0,t.jsxs)(n.default,{href:e.href,className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.current?"text-indonesia-red bg-red-50":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"}`,children:[t.jsx(e.icon,{className:"w-4 h-4"}),e.name]},e.name))}),t.jsx("div",{className:"hidden md:flex flex-1 max-w-lg mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(m.Z,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indonesia-red focus:border-indonesia-red",placeholder:"Cari cerita, lokasi, atau periode..."})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[N&&(0,t.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[t.jsx(u.Z,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-indonesia-red rounded-full"})]}),N?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>v(!y),className:"flex items-center gap-3 p-2 rounded-md hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 bg-indonesia-gold rounded-full flex items-center justify-center",children:w?.avatar_url?t.jsx("img",{src:w.avatar_url,alt:w.full_name||"User",className:"w-8 h-8 rounded-full object-cover"}):t.jsx(h.Z,{className:"w-4 h-4 text-white"})}),t.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:w?.full_name||w?.username||"User"})]}),y&&t.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:w?.full_name||w?.username}),t.jsx("p",{className:"text-sm text-gray-500",children:N.email})]}),(0,t.jsxs)(n.default,{href:"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>v(!1),children:[t.jsx(h.Z,{className:"w-4 h-4"}),"Profil Saya"]}),(0,t.jsxs)(n.default,{href:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>v(!1),children:[t.jsx(x.Z,{className:"w-4 h-4"}),"Pengaturan"]}),(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[t.jsx(g.Z,{className:"w-4 h-4"}),"Keluar"]})]})})]}):t.jsx(n.default,{href:"/auth",className:"bg-indonesia-red text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indonesia-deep-red transition-colors",children:"Masuk"}),t.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",onClick:()=>a(!s),children:s?t.jsx(p.Z,{className:"w-6 h-6"}):t.jsx(b.Z,{className:"w-6 h-6"})})]})]})}),s&&t.jsx("div",{className:"md:hidden",children:(0,t.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[t.jsx("div",{className:"px-3 py-2",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(m.Z,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indonesia-red focus:border-indonesia-red",placeholder:"Cari cerita..."})]})}),P.map(e=>(0,t.jsxs)(n.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-md text-base font-medium ${e.current?"text-indonesia-red bg-red-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,onClick:()=>a(!1),children:[t.jsx(e.icon,{className:"w-5 h-5"}),e.name]},e.name))]})})]}),t.jsx("main",{className:"flex-1",children:e}),N&&t.jsx("button",{onClick:()=>k.push("/stories/new"),className:"fixed bottom-6 right-6 w-14 h-14 bg-indonesia-red text-white rounded-full shadow-lg hover:bg-indonesia-deep-red transition-all duration-200 transform hover:scale-105 flex items-center justify-center z-40 animate-pulse",title:"Tambah Cerita Baru",children:t.jsx(f.Z,{className:"w-6 h-6"})}),(s||y)&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-30",onClick:()=>{a(!1),v(!1)}})]})}},7484:(e,s,a)=>{"use strict";a.d(s,{Providers:()=>c,a:()=>o});var t=a(326),r=a(7577),n=a(5047),i=a(2777);let l=(0,r.createContext)(void 0);function o(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within a Providers component");return e}function c({children:e}){let[s,a]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0);(0,n.useRouter)(),(0,n.usePathname)();let x=(0,i.JU)(),g=async()=>{await x.auth.signOut()};return t.jsx(l.Provider,{value:{user:s,profile:o,session:d,loading:u,signOut:g},children:e})}},6418:(e,s,a)=>{"use strict";a.d(s,{E:()=>b});var t=a(326),r=a(7577),n=a(6226),i=a(7489),l=a(5786),o=a(1291),c=a(8998),d=a(361),m=a(6343),u=a(3734),h=a(7636),x=a(2714),g=a(4061),p=a(9635);function b({story:e,onClick:s,compact:a=!1,showAuthor:b=!0}){let[f,j]=(0,r.useState)(!1),y=(e=>{switch(e){case 0:return{color:"bg-red-100 text-red-700",icon:o.Z,text:"Baru"};case 1:return{color:"bg-yellow-100 text-yellow-700",icon:c.Z,text:"Menarik"};case 2:return{color:"bg-green-100 text-green-700",icon:d.Z,text:"Terverifikasi"};case 3:return{color:"bg-blue-100 text-blue-700",icon:m.Z,text:"Bersumber"};case 4:return{color:"bg-purple-100 text-purple-700",icon:u.Z,text:"Terpercaya"};default:return{color:"bg-gray-100 text-gray-700",icon:o.Z,text:"Baru"}}})(e.trust_level||0),v=y.icon,N=e.images?.find(e=>e.is_primary)||e.images?.[0],w=Math.ceil(e.content.length/200);return(0,t.jsxs)("div",{className:`story-card bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-pointer transition-all duration-200 hover:shadow-md hover:-translate-y-1 ${a?"p-3":"p-4"}`,onClick:s,children:[N&&!f&&(0,t.jsxs)("div",{className:`relative ${a?"h-32":"h-48"} mb-3 rounded-lg overflow-hidden bg-gray-100`,children:[t.jsx(n.default,{src:N.image_url,alt:e.title,fill:!0,className:"object-cover",onError:()=>j(!0)}),t.jsx("div",{className:"absolute top-2 right-2",children:(0,t.jsxs)("div",{className:`verification-badge ${y.color} flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full`,children:[t.jsx(v,{className:"w-3 h-3"}),y.text]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:"bg-indonesia-red bg-opacity-10 text-indonesia-red px-2 py-1 rounded-full font-medium",children:[e.category?.icon," ",e.category?.name||"Umum"]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(h.Z,{className:"w-3 h-3"}),t.jsx("span",{className:"truncate max-w-20",children:e.location.name})]})]}),t.jsx("h3",{className:`font-semibold text-gray-900 line-clamp-2 ${a?"text-sm":"text-base"}`,children:e.title}),t.jsx("p",{className:`text-gray-600 line-clamp-3 ${a?"text-xs":"text-sm"}`,children:e.summary||e.content.substring(0,150)+"..."}),e.time_period&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(c.Z,{className:"w-3 h-3"}),t.jsx("span",{children:e.time_period})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(m.Z,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[w," menit"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(x.Z,{className:"w-3 h-3"}),t.jsx("span",{children:e.view_count||0})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(g.Z,{className:"w-3 h-3"}),t.jsx("span",{children:e.verification_count||0})]})]}),t.jsx("span",{className:"text-xs text-gray-400",children:(e=>{try{return(0,i.Q)(new Date(e),{addSuffix:!0,locale:l.id})}catch{return"Baru saja"}})(e.created_at||"")})]}),b&&e.author&&(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100",children:[t.jsx("div",{className:"w-6 h-6 bg-indonesia-gold rounded-full flex items-center justify-center",children:e.author.avatar_url?t.jsx(n.default,{src:e.author.avatar_url,alt:e.author.full_name||"User",width:24,height:24,className:"rounded-full object-cover"}):t.jsx(p.Z,{className:"w-3 h-3 text-white"})}),t.jsx("span",{className:"text-xs text-gray-600 truncate",children:e.author.full_name||e.author.username})]})]})]})}},2777:(e,s,a)=>{"use strict";a.d(s,{IG:()=>c,JU:()=>o,Ry:()=>d,Yb:()=>m});var t=a(6292),r=a(9813);let n="https://gaizwlstaujuiyxofkww.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhaXp3bHN0YXVqdWl5eG9ma3d3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NzcyMjMsImV4cCI6MjA2NDE1MzIyM30.34gO2ib2nbu6ZllpAhgoPoGDty_wnb6T0MYf7-ftXFw";if(!n||!i)throw Error("Missing Supabase environment variables");let l=(0,t.eI)(n,i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),o=()=>(0,r.createClientComponentClient)(),c=async e=>{let{data:s,error:a}=await l.auth.signInWithOAuth({provider:e,options:{redirectTo:"http://localhost:3000/auth/callback"}});return{data:s,error:a}},d=async(e,s)=>{let{data:a,error:t}=await l.auth.signInWithPassword({email:e,password:s});return{data:a,error:t}},m=async(e,s,a)=>{let{data:t,error:r}=await l.auth.signUp({email:e,password:s,options:{data:a,emailRedirectTo:"http://localhost:3000/auth/callback"}});return{data:t,error:r}}},817:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h,metadata:()=>u});var t=a(9510),r=a(3790),n=a.n(r),i=a(7474),l=a.n(i),o=a(4552),c=a.n(o);a(5023);var d=a(8570);(0,d.createProxy)(String.raw`/Users/bagoessprasetyo/Documents/react/unseenindonesia/src/components/providers/Providers.tsx#useAuth`);let m=(0,d.createProxy)(String.raw`/Users/bagoessprasetyo/Documents/react/unseenindonesia/src/components/providers/Providers.tsx#Providers`),u={title:"UnseenIndonesia - Temukan Sejarah Tersembunyi Indonesia",description:"Jelajahi cerita-cerita sejarah yang belum pernah Anda dengar dari seluruh nusantara. Platform komunitas untuk berbagi dan menemukan warisan budaya Indonesia.",keywords:["sejarah indonesia","budaya indonesia","cerita rakyat","heritage","nusantara"],authors:[{name:"UnseenIndonesia Team"}],creator:"UnseenIndonesia",publisher:"UnseenIndonesia",robots:{index:!0,follow:!0},openGraph:{type:"website",locale:"id_ID",url:"https://unseenindonesia.com",siteName:"UnseenIndonesia",title:"UnseenIndonesia - Temukan Sejarah Tersembunyi Indonesia",description:"Jelajahi cerita-cerita sejarah yang belum pernah Anda dengar dari seluruh nusantara.",images:[{url:"/og-image.jpg",width:1200,height:630,alt:"UnseenIndonesia - Discover Hidden Indonesian History"}]},twitter:{card:"summary_large_image",title:"UnseenIndonesia - Temukan Sejarah Tersembunyi Indonesia",description:"Jelajahi cerita-cerita sejarah yang belum pernah Anda dengar dari seluruh nusantara.",images:["/og-image.jpg"],creator:"@unseenindonesia"},manifest:"/manifest.json",icons:{icon:"/favicon.ico",shortcut:"/favicon-16x16.png",apple:"/apple-touch-icon.png"}};function h({children:e}){return t.jsx("html",{lang:"id",suppressHydrationWarning:!0,children:t.jsx("body",{className:`${n().variable} ${l().variable} ${c().variable} font-sans antialiased`,suppressHydrationWarning:!0,children:t.jsx(m,{children:e})})})}},5023:()=>{}};